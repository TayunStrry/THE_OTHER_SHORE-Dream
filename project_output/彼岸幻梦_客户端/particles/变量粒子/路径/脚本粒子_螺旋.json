{
    "format_version": "1.10.0",
    "particle_effect": {
        "description": {
            "identifier": "scripts:path_spiral",
            "basic_render_parameters": {
                "material": "particles_alpha",
                "texture": "textures/粒子贴图/基础纹理"
            }
        },
        "curves": {
            "variable.colour": {
                "type": "catmull_rom",
                "input": "v.particle_age",
                "horizontal_range": "v.particle_lifetime",
                "nodes": [
                    0,
                    1,
                    0,
                    1
                ]
            },
            "variable.scale": {
                "type": "catmull_rom",
                "input": "v.particle_age",
                "horizontal_range": "v.particle_lifetime",
                "nodes": [
                    0.5,
                    1.0,
                    0.5,
                    1.0
                ]
            }
        },
        "components": {
            "minecraft:emitter_initialization": {
                // variable.direction:[setFloat] -> 粒子运行的旋转轴, 参数范围(0, 1, 2)
                // variable.size:[setFloat] -> 粒子图形的缩放系数
                "creation_expression": "variable.speed = 360.0;",
                "per_update_expression": "v.cos = math.cos(v.emitter_age * v.speed) * (v.size / 2); v.sin = math.sin(v.emitter_age * v.speed) * (v.size / 2);"
            },
            "minecraft:emitter_rate_steady": {
                "spawn_rate": 100,
                "max_particles": 1000
            },
            "minecraft:emitter_lifetime_looping": {
                "active_time": 4
            },
            "minecraft:emitter_shape_point": {
                "offset": [
                    "(v.direction == 0) ? v.cos : (v.direction == 1) ? (v.emitter_age * v.size) / 2 : v.cos",
                    "(v.direction == 0) ? v.sin : (v.direction == 1) ? v.cos : (v.emitter_age * v.size) / 2",
                    "(v.direction == 0) ? (v.emitter_age * v.size) / 2 : (v.direction == 1) ? v.sin : v.sin"
                ]
            },
            "minecraft:particle_lifetime_expression": {
                "max_lifetime": 2
            },
            "minecraft:particle_motion_dynamic": {
                "linear_acceleration": [
                    0,
                    -5,
                    0
                ],
                "linear_drag_coefficient": 2.5
            },
            "minecraft:particle_initial_speed": [
                "2 * Math.random(-1.0, 1.0)",
                "5 * Math.random(-1.0, 2.0)",
                "2 * Math.random(-1.0, 1.0)"
            ],
            "minecraft:particle_appearance_billboard": {
                "size": [
                    "0.15 * v.scale",
                    "0.15 * v.scale"
                ],
                "facing_camera_mode": "rotate_xyz",
                "uv": {
                    "texture_height": 256,
                    "texture_width": 256,
                    "flipbook": {
                        "base_UV": [
                            131,
                            26
                        ],
                        "size_UV": [
                            24,
                            24
                        ],
                        "step_UV": [
                            25,
                            0
                        ],
                        "stretch_to_lifetime": true,
                        "frames_per_second": 5,
                        "max_frame": 5,
                        "loop": true
                    }
                }
            },
            "minecraft:particle_appearance_tinting": {
                "color": {
                    "interpolant": "v.colour",
                    "gradient": {
                        "0.0": "#ffd71c1c",
                        "0.1": "#ffffdf00",
                        "0.3": "#ff08ff00",
                        "0.5": "#ff00ffff",
                        "0.6": "#ff0000ff",
                        "0.8": "#ffff00ff",
                        "1.0": "#ffe21111"
                    }
                }
            }
        }
    }
}